!function(){"use strict";angular.module("app",["ngRoute","jsonFormatter"])}(),function(){"use strict";angular.module("app").config(["$httpProvider",function(t){}])}(),function(){"use strict";angular.module("app").config(["$routeProvider","$locationProvider",function(t,e){t.when("/",{title:"First",templateUrl:"partials/first.html",controller:"FirstCtrl"}),t.otherwise("/"),e.html5Mode(!1),e.hashPrefix("")}])}(),function(){"use strict";var t=angular.module("app");t.directive("droppable",["$parse","Droppables",function(t,e){return{require:"ngModel",link:function(n,i,o,r){function s(){return{index:t(o.droppableIndex)(n),model:t(o.ngModel)(n),droppable:void 0!==o.droppableIf?t(o.droppableIf):function(){return!0}}}var a=i[0];o.droppable;e.add(a,s),n.$on("$destroy",function(){e.remove(a)})}}}]),t.service("Droppables",["ElementRect",function(t){this.natives=[],this.callbacks=[],this.rects=[],this.add=function(e,n){this.natives.push(e),this.callbacks.push(n||function(){}),this.rects.push(t.fromNative(e))},this.remove=function(t){var e=this.natives.indexOf(t);-1!==e&&(this.natives.splice(e,1),this.callbacks.splice(e,1),this.rects.splice(e,1))},this.getIntersections=function(t){var e,n=[];return angular.forEach(this.rects,function(i,o){i.set(i.native),e=angular.element(i.native),e.removeClass("dropping"),i.intersect(t)?(i.distance=i.center.distance(t.center),i.data=this.callbacks[o](),n.push(i),e.addClass("over")):e.removeClass("over")}.bind(this)),n.sort(function(t,e){return t.distance<e.distance?-1:t.distance>e.distance?1:0}),n}}]),t.factory("Vector",function(){function t(t,e){this.x=t||0,this.y=e||0}return t.make=function(e,n){return new t(n.x-e.x,n.y-e.y)},t.size=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.normalize=function(e){var n=t.size(e);return e.x/=n,e.y/=n,e},t.incidence=function(t,e){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},t.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.cross=function(t,e){return t.x*e.y-t.y*e.x},t.difference=function(e,n){return new t(e.x-n.x,e.y-n.y)},t.power=function(t,e){return(Math.abs(e.x-t.x)+Math.abs(e.y-t.y))/2},t.prototype={size:function(){return t.size(this)},normalize:function(){return t.normalize(this)},incidence:function(e){return t.incidence(this,e)},cross:function(e){return t.cross(this,e)},distance:function(e){return t.distance(this,e)},difference:function(e){return t.difference(this,e)},power:function(){return(Math.abs(this.x)+Math.abs(this.y))/2},towards:function(t,e){return e=e||.125,this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},add:function(t){return this.x+=t.x,this.y+=t.y,this},friction:function(t){return this.x*=t,this.y*=t,this},copy:function(e){return new t(this.x,this.y)},toString:function(){return"{"+this.x+","+this.y+"}"}},t}),t.factory("ElementRect",["Vector",function(t){function e(){this.x=0,this.y=0,this.width=0,this.height=0,this.center=new t}return e.fromNative=function(t){return(new e).set(t)},e.prototype={set:function(t){var e=t.getBoundingClientRect();return this.x=e.left,this.y=e.top,this.width=t.offsetWidth,this.height=t.offsetHeight,this.center.x=this.x+this.width/2,this.center.y=this.y+this.height/2,this.native=t,this},offset:function(t){return this.x+=t.x,this.y+=t.y,this.center.x=this.x+this.width/2,this.center.y=this.y+this.height/2,this},intersect:function(t){return!(t.x>this.x+this.width||t.x+t.width<this.x||t.y>this.y+this.height||t.y+t.height<this.y)},toString:function(){return"{"+this.x+","+this.y+","+this.width+","+this.height+"}"}},e}]),t.factory("Style",function(){function t(){this.props={scale:1,hoverScale:1,currentScale:1}}var e=function(){var t=document.createElement("DIV");return void 0!==t.style.transform?["webkit","moz","o","ms"].every(function(n){var i="-"+n+"-transform";return void 0===t.style[i]||(e=i,!1)}):e=void 0!==t.style.webkitTransform?"-webkit-transform":void 0,e}();return t.prototype={set:function(t){var e=[];angular.forEach(this,function(t,n){"props"!==n&&e.push(n+":"+t)}),t.style.cssText=e.join(";")+";"},transform:function(t){this[e]=t},transformOrigin:function(t,n){this[e+"-origin-x"]=Math.round(1e3*t)/1e3+"%",this[e+"-origin-y"]=Math.round(1e3*n)/1e3+"%"}},t.prefix=e,t})}(),function(){"use strict";angular.module("app").directive("draggable",["$parse","$timeout","Events","Style","ElementRect","Droppables",function(t,e,n,i,o,r){return{require:"ngModel",link:function(s,a,c,u){function l(t){return I(s)&&(y=t.absolute,d()),!1}function h(t){return v=t.absolute,g=v.difference(y),!x&&g.power()>25&&(x=!0,a.addClass("dragging")),x&&(z.transform="translateX("+g.x+"px) translateY("+g.y+"px)",z.set(C),D.set(E).offset(g),b=r.getIntersections(D),b.length&&angular.element(b[0].native).addClass("dropping")),!1}function f(n){if(x){x=!1,a.removeClass("dragging"),z.transform="none",z.set(C);var i=t(c.droppableIndex)(s),o=t(c.ngModel)(s),r=null;b.length?angular.forEach(b,function(t,n){angular.element(t.native).removeClass("dropping over"),t.data.droppable(s)&&!r&&(r={from:{index:i,model:o,target:C},to:{index:t.data.index,model:t.data.model,target:t.native}},e(function(){s.$emit("onDropItem",r)}))}):(r={from:{index:i,model:o,target:C},to:null},e(function(){s.$emit("onDropOut",r)}))}return m(),!1}function d(){k.add(A)}function m(){k.remove(A)}function p(){w.remove($)}var y,v,g,x,b,w,k,E=a[0],M=c.draggable||".item",I=void 0!==c.draggableIf?t(c.draggableIf):function(){return!0},C=E.querySelector(M),z=new i,D=new o,$={down:l},A={move:h,up:f};w=new n(a),k=new n(document),s.$on("$destroy",function(){m(),p()}),function(){w.add($)}()}}}])}(),function(){"use strict";angular.module("app").factory("Events",[function(){function t(t){this.x=0,this.y=0,t&&angular.extend(this,t)}function e(e,n){var i=document.documentElement||document.body.parentNode||document.body,o={x:window.pageXOffset||i.scrollLeft,y:window.pageYOffset||i.scrollTop};if("resize"===e.type){var r={w:this.getWidth(),h:this.getHeight()};this.view=r}var a,c=s(n),u={x:c.offsetLeft,y:c.offsetTop};a=c.getBoundingClientRect?c.getBoundingClientRect():{x:0,y:0,width:0,height:0,top:0,right:0,bottom:0,left:0};var l=this.getPage(e);if(l){var h=new t({x:l.x-o.x-a.left,y:l.y-o.y-a.top}),f=new t({x:l.x-o.x,y:l.y-o.y});this.relative=h,this.absolute=f}"resize"===this.type&&console.log(this.type),this.originalEvent=e,this.element=n,this.node=c,this.offset=u,this.rect=a}function n(){return self.innerWidth?self.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body?document.body.clientWidth:void 0}function i(){return self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body?document.body.clientHeight:void 0}function o(t){var e=["click","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave","contextmenu"],n=["touchstart","touchmove","touchend","touchcancel"],i=null;if(-1!==n.indexOf(t.type)){var o=null,r=t.originalEvent?t.originalEvent:t,s=r.touches.length?r.touches:r.changedTouches;s&&s.length&&(o=s[0]),o&&(i={x:o.pageX,y:o.pageY})}else-1!==e.indexOf(t.type)&&(i={x:t.pageX,y:t.pageY});return this.type=t.type,i}function r(t){function n(t){var n=new e(t,l.element);l.listeners.click.apply(this,[n])}function i(t){var n=new e(t,l.element);l.listeners.down.apply(this,[n]),l.removeTouchEvents()}function o(t){var n=new e(t,l.element);l.listeners.move.apply(this,[n])}function r(t){var n=new e(t,l.element);l.listeners.up.apply(this,[n])}function s(t){console.log("onResize",t);var n=new e(t,l.element);l.listeners.resize.apply(this,[n])}function a(t){var n=new e(t,l.element);l.listeners.down.apply(this,[n]),l.removeStandardEvents()}function c(t){var n=new e(t,l.element);l.listeners.move.apply(this,[n])}function u(t){var n=new e(t,l.element);l.listeners.up.apply(this,[n])}this.element=t,this.listeners={},this.standardEvents={click:{key:"click",callback:n},down:{key:"mousedown",callback:i},move:{key:"mousemove",callback:o},up:{key:"mouseup",callback:r},resize:{key:"resize",callback:s}},this.touchEvents={down:{key:"touchstart",callback:a},move:{key:"touchmove",callback:c},up:{key:"touchend",callback:u}};var l=this}function s(t){return t.length?t[0]:t}function a(t){return t.length?t:angular.element(t)}function c(t){var e=this,n=this.standardEvents,i=this.touchEvents,o=a(this.element),r=angular.element(window);return angular.forEach(t,function(t,s){if(e.listeners[s]){var a={};a[s]=e.listeners[s],u(a)}e.listeners[s]=t,n[s]&&("resize"===s?r.on(n[s].key,n[s].callback):o.on(n[s].key,n[s].callback)),i[s]&&o.on(i[s].key,i[s].callback)}),e}function u(t){var e=this,n=this.standardEvents,i=this.touchEvents,o=a(this.element),r=angular.element(window);return angular.forEach(t,function(t,s){n[s]&&("resize"===s?r.off(n[s].key,n[s].callback):o.off(n[s].key,n[s].callback)),i[s]&&o.off(i[s].key,i[s].callback),e.listeners[s]=null}),e}function l(){var t=this,e=t.standardEvents,n=(t.touchEvents,a(t.element));n.off("mousedown",e.down.callback),n.off("mousemove",e.move.callback),n.off("mouseup",e.up.callback)}function h(){var t=this,e=(t.standardEvents,t.touchEvents),n=a(t.element);n.off("touchstart",e.down.callback),n.off("touchmove",e.move.callback),n.off("touchend",e.up.callback)}return t.prototype={difference:function(e){return new t({x:this.x-e.x,y:this.y-e.y})},power:function(){return(Math.abs(this.x)+Math.abs(this.y))/2}},e.prototype={getPage:o,getWidth:n,getHeight:i},r.prototype={add:c,remove:u,removeStandardEvents:l,removeTouchEvents:h},r}])}(),function(){"use strict";var t=angular.module("app");t.controller("RootCtrl",["$scope",function(t){}]),t.controller("FirstCtrl",["$scope",function(t){t.headers=[{name:"Id",key:"id"},{name:"Famiglia - Categoria",key:"family"},{name:"Descrizione RAI",key:"rai"},{name:"Ore",key:"hours"},{name:"Listino",key:"priceList"},{name:"Macrostima COM",key:"com"}],t.items=[{id:505,family:"DIGITAL MARKETING - CAMPAGNA ADV - online",rai:"ADV: set up campagna adv (Google e Facebook)",hours:"da 40 H a 60 H",priceList:"da 2.400 € a 3.600 €",com:"-"},{id:506,family:"DIGITAL MARKETING - CAMPAGNA ADV - online",rai:"ADV: set up campagna adv (Twitter e Instagram)",hours:"da 40 H a 60 H",priceList:"da 2.400 € a 3.600 €",com:"-"}],t.$on("onDropItem",function(t,e){console.log("MacroCtrl.onDropItem",e.from.model,e.to.model)}),t.$on("onDropOut",function(t,e){console.log("MacroCtrl.onDropOut",e.model,e.from,e.to,e.target)})}])}();